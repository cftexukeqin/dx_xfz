function News(){}News.prototype.UeditorEvent=function(){var e=UE.getEditor("container",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"});window.ue=e},News.prototype.AddNewsEvent=function(){var e=$("#submit-Btn"),s=$("input[name='title']"),u=$("select[name='category']"),l=$("input[name='desc']"),c=$("input[name='thumbnail']"),p=e.attr("data-news-id");console.log(p),e.click(function(e){e.preventDefault();var t=s.val(),n=u.val(),o=l.val(),i=c.val(),a=ue.getContent(),r="";r=p?"/cms/edit_news/":"/cms/add_news/",t&&n&&o&&i&&a?xfzajax.post({url:r,data:{title:t,category:n,desc:o,thumbnail:i,content:a,pk:p},success:function(e){200===e.code&&(p?xfzalert.alertSuccessToast("新闻编辑成功！"):xfzalert.alertSuccessToast("新闻发布成功！"),window.location="/cms/news_lists/")},fail:function(e){xfzalert.alertInfoToast(e)}}):window.messageBox.showError("请输入新闻完整信息！")})},News.prototype.listenUploadFileEvent=function(){var n=$("#thumbnail-btn");n.change(function(){var e=n[0].files[0],t=new FormData;t.append("file",e),xfzajax.post({url:"/cms/upload_file/",data:t,processData:!1,contentType:!1,success:function(e){if(200===e.code){var t=e.data.url;$("input[name='thumbnail']").val(t)}}})})},News.prototype.listenQiniuUploadEvent=function(){var r=this;$("#thumbnail-btn").change(function(){var a=this.files[0];xfzajax.get({url:"/cms/qntoken/",success:function(e){if(200===e.code){var t=e.data.token,n=(new Date).getTime()+"."+a.name.split(".")[1],o={fname:n,params:{},mimeType:["image/png","image/jpeg","image/gif","video/mp4"]},i={userCdnDomain:!0,retryCount:6,region:qiniu.region.z1};qiniu.upload(a,n,t,o,i).subscribe({next:r.QiniuUploadNext,error:r.QiniuUploadError,complete:r.QiniuUploadComplete})}}})})},News.prototype.QiniuUploadNext=function(e){var t=e.total.percent,n=$("#progess-group"),o=$(".progress-bar");o.css({width:0}),n.show(),o.css({width:t+"%"}),o.text(t.toFixed()+"%")},News.prototype.QiniuUploadError=function(e){xfzalert.alertErrorToast("上传文件类型错误，请选择图片文件！")},News.prototype.QiniuUploadComplete=function(e){var t=e.key,n=$("#progess-group");$("input[name='thumbnail']").val("http://pbci7ji9t.bkt.clouddn.com/"+t),n.hide()},News.prototype.run=function(){var e=this;e.listenQiniuUploadEvent(),e.UeditorEvent(),e.AddNewsEvent()},$(function(){(new News).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZF9uZXdzLmpzIl0sIm5hbWVzIjpbIk5ld3MiLCJwcm90b3R5cGUiLCJVZWRpdG9yRXZlbnQiLCJ1ZSIsIlVFIiwiZ2V0RWRpdG9yIiwiaW5pdGlhbEZyYW1lSGVpZ2h0Iiwic2VydmVyVXJsIiwid2luZG93IiwiQWRkTmV3c0V2ZW50Iiwic3VibWl0QnRuIiwiJCIsInRpdGxlSW5wdXQiLCJjYXRlZ29yeVNlbGVjdCIsImRlc2NJbnB1dCIsInRodW1ibmFpbElucHV0IiwicGsiLCJhdHRyIiwiY29uc29sZSIsImxvZyIsImNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRpdGxlIiwidmFsIiwiY2F0ZWdvcnkiLCJkZXNjIiwidGh1bWJuYWlsIiwiY29udGVudCIsImdldENvbnRlbnQiLCJ1cmwiLCJ4ZnphamF4IiwicG9zdCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3NUb2FzdCIsImxvY2F0aW9uIiwiZmFpbCIsImVycm9yIiwiYWxlcnRJbmZvVG9hc3QiLCJtZXNzYWdlQm94Iiwic2hvd0Vycm9yIiwibGlzdGVuVXBsb2FkRmlsZUV2ZW50IiwidXBsb2FkQnRuIiwiY2hhbmdlIiwiZmlsZSIsImZpbGVzIiwiZm9ybWRhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJpbWdVcmwiLCJsaXN0ZW5RaW5pdVVwbG9hZEV2ZW50Iiwic2VsZiIsInRoaXMiLCJnZXQiLCJ0b2tlbiIsImtleSIsIkRhdGUiLCJnZXRUaW1lIiwibmFtZSIsInNwbGl0IiwicHV0RXh0cmEiLCJmbmFtZSIsInBhcmFtcyIsIm1pbWVUeXBlIiwiY29uZmlnIiwidXNlckNkbkRvbWFpbiIsInJldHJ5Q291bnQiLCJyZWdpb24iLCJxaW5pdSIsInoxIiwidXBsb2FkIiwic3Vic2NyaWJlIiwibmV4dCIsIlFpbml1VXBsb2FkTmV4dCIsIlFpbml1VXBsb2FkRXJyb3IiLCJjb21wbGV0ZSIsIlFpbml1VXBsb2FkQ29tcGxldGUiLCJyZXMiLCJwZXJjZW50IiwidG90YWwiLCJwcm9nZXNzR3JvdXAiLCJwcm9nZXNzYmFyIiwiY3NzIiwid2lkdGgiLCJzaG93IiwidGV4dCIsInRvRml4ZWQiLCJlcnIiLCJhbGVydEVycm9yVG9hc3QiLCJmaWxlbmFtZSIsImhpZGUiLCJydW4iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFFBS1RBLEtBQUtDLFVBQVVDLGFBQWUsV0FDMUIsSUFBSUMsRUFBS0MsR0FBR0MsVUFBVSxZQUFZLENBQzFCQyxtQkFBc0IsSUFDdEJDLFVBQWEscUJBRXJCQyxPQUFPTCxHQUFLQSxHQUVoQkgsS0FBS0MsVUFBVVEsYUFBZSxXQUMxQixJQUFJQyxFQUFZQyxFQUFFLGVBQ2RDLEVBQWFELEVBQUUsdUJBQ2ZFLEVBQWlCRixFQUFFLDJCQUNuQkcsRUFBWUgsRUFBRSxzQkFDZEksRUFBaUJKLEVBQUUsMkJBQ25CSyxFQUFLTixFQUFVTyxLQUFLLGdCQUN4QkMsUUFBUUMsSUFBSUgsR0FDWk4sRUFBVVUsTUFBTSxTQUFVQyxHQUN0QkEsRUFBTUMsaUJBQ04sSUFBSUMsRUFBUVgsRUFBV1ksTUFDbkJDLEVBQVdaLEVBQWVXLE1BQzFCRSxFQUFPWixFQUFVVSxNQUNqQkcsRUFBWVosRUFBZVMsTUFDM0JJLEVBQVV6QixHQUFHMEIsYUFDYkMsRUFBTSxHQUVOQSxFQUREZCxFQUNPLGtCQUVBLGlCQUVOTyxHQUFRRSxHQUFXQyxHQUFPQyxHQUFZQyxFQUkxQ0csUUFBUUMsS0FBSyxDQUNURixJQUFNQSxFQUNORyxLQUFPLENBQ0hWLE1BQVFBLEVBQ1JFLFNBQVdBLEVBQ1hDLEtBQU9BLEVBQ1BDLFVBQVlBLEVBQ1pDLFFBQVVBLEVBQ1ZaLEdBQUtBLEdBRVRrQixRQUFVLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsT0FDVG5CLEVBQ0NvQixTQUFTQyxrQkFBa0IsV0FFM0JELFNBQVNDLGtCQUFrQixXQUUvQjdCLE9BQU84QixTQUFXLHFCQUcxQkMsS0FBTyxTQUFVQyxHQUNiSixTQUFTSyxlQUFlRCxNQXhCNUJoQyxPQUFPa0MsV0FBV0MsVUFBVSxpQkErQnhDM0MsS0FBS0MsVUFBVTJDLHNCQUF3QixXQUNuQyxJQUFJQyxFQUFZbEMsRUFBRSxrQkFDbEJrQyxFQUFVQyxPQUFPLFdBQ2IsSUFBSUMsRUFBT0YsRUFBVSxHQUFHRyxNQUFNLEdBQzFCQyxFQUFXLElBQUlDLFNBQ25CRCxFQUFTRSxPQUFPLE9BQVFKLEdBQ3hCaEIsUUFBUUMsS0FBSyxDQUNURixJQUFNLG9CQUNORyxLQUFRZ0IsRUFDUkcsYUFBZSxFQUNmQyxhQUFlLEVBQ2ZuQixRQUFXLFNBQVVDLEdBQ2pCLEdBQXNCLE1BQW5CQSxFQUFhLEtBQVUsQ0FDdEIsSUFBSW1CLEVBQVNuQixFQUFhLEtBQU8sSUFDbEJ4QixFQUFFLDJCQUNSYSxJQUFJOEIsVUFPakN0RCxLQUFLQyxVQUFVc0QsdUJBQXlCLFdBQ3BDLElBQUlDLEVBQU9DLEtBQ1M5QyxFQUFFLGtCQUNSbUMsT0FBTyxXQUNiLElBQUlDLEVBQU9VLEtBQUtULE1BQU0sR0FDdEJqQixRQUFRMkIsSUFBSSxDQUNSNUIsSUFBTSxnQkFDTkksUUFBVSxTQUFVQyxHQUNoQixHQUFzQixNQUFuQkEsRUFBYSxLQUFVLENBQ3RCLElBQUl3QixFQUFReEIsRUFBYSxLQUFTLE1BQzlCeUIsR0FBTSxJQUFLQyxNQUFRQyxVQUFVLElBQUlmLEVBQUtnQixLQUFLQyxNQUFNLEtBQUssR0FDdERDLEVBQVcsQ0FDWEMsTUFBUU4sRUFDUk8sT0FBUyxHQUNUQyxTQUFXLENBQUMsWUFBWSxhQUFhLFlBQVksY0FFakRDLEVBQVMsQ0FDVEMsZUFBZ0IsRUFDaEJDLFdBQWEsRUFDYkMsT0FBU0MsTUFBTUQsT0FBT0UsSUFFVEQsTUFBTUUsT0FBTzVCLEVBQUthLEVBQUlELEVBQU1NLEVBQVNJLEdBQzNDTyxVQUFVLENBQ2pCQyxLQUFPckIsRUFBS3NCLGdCQUNadEMsTUFBUWdCLEVBQUt1QixpQkFDYkMsU0FBV3hCLEVBQUt5Qiw2QkFRNUNqRixLQUFLQyxVQUFVNkUsZ0JBQWtCLFNBQVNJLEdBQ3RDLElBQ0lDLEVBRFFELEVBQUlFLE1BQ0lELFFBQ2hCRSxFQUFlMUUsRUFBRSxrQkFDakIyRSxFQUFhM0UsRUFBRSxpQkFDbkIyRSxFQUFXQyxJQUFJLENBQUNDLE1BQVEsSUFDeEJILEVBQWFJLE9BQ2JILEVBQVdDLElBQUksQ0FBQ0MsTUFBUUwsRUFBUSxNQUNoQ0csRUFBV0ksS0FBS1AsRUFBUVEsVUFBVSxNQUV0QzNGLEtBQUtDLFVBQVU4RSxpQkFBbUIsU0FBU2EsR0FFdkN4RCxTQUFTeUQsZ0JBREwsc0JBSVI3RixLQUFLQyxVQUFVZ0Ysb0JBQXNCLFNBQVNDLEdBQzFDLElBQUlZLEVBQVdaLEVBQVMsSUFFcEJHLEVBQWUxRSxFQUFFLGtCQUNMQSxFQUFFLDJCQUNSYSxJQUhHLG9DQUdRc0UsR0FDckJULEVBQWFVLFFBR2pCL0YsS0FBS0MsVUFBVStGLElBQU0sV0FDakIsSUFBSXhDLEVBQU9DLEtBRVhELEVBQUtELHlCQUNMQyxFQUFLdEQsZUFDTHNELEVBQUsvQyxnQkFHVEUsRUFBRSxZQUNZLElBQUlYLE1BQ1ZnRyIsImZpbGUiOiJhZGRfbmV3cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBOZXdzKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG59XHJcblxyXG4vL+WunuS+i+WMlueZvuW6puWvjOaWh+acrOe8lui+keWZqFxyXG5OZXdzLnByb3RvdHlwZS5VZWRpdG9yRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHVlID0gVUUuZ2V0RWRpdG9yKCdjb250YWluZXInLHtcclxuICAgICAgICAgICAgJ2luaXRpYWxGcmFtZUhlaWdodCc6IDQwMCxcclxuICAgICAgICAgICAgJ3NlcnZlclVybCc6ICcvdWVkaXRvci91cGxvYWQvJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgd2luZG93LnVlID0gdWVcclxufTtcclxuTmV3cy5wcm90b3R5cGUuQWRkTmV3c0V2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzdWJtaXRCdG4gPSAkKCcjc3VibWl0LUJ0bicpO1xyXG4gICAgdmFyIHRpdGxlSW5wdXQgPSAkKFwiaW5wdXRbbmFtZT0ndGl0bGUnXVwiKTtcclxuICAgIHZhciBjYXRlZ29yeVNlbGVjdCA9ICQoXCJzZWxlY3RbbmFtZT0nY2F0ZWdvcnknXVwiKTtcclxuICAgIHZhciBkZXNjSW5wdXQgPSAkKFwiaW5wdXRbbmFtZT0nZGVzYyddXCIpO1xyXG4gICAgdmFyIHRodW1ibmFpbElucHV0ID0gJChcImlucHV0W25hbWU9J3RodW1ibmFpbCddXCIpO1xyXG4gICAgdmFyIHBrID0gc3VibWl0QnRuLmF0dHIoJ2RhdGEtbmV3cy1pZCcpO1xyXG4gICAgY29uc29sZS5sb2cocGspO1xyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gdGl0bGVJbnB1dC52YWwoKTtcclxuICAgICAgICB2YXIgY2F0ZWdvcnkgPSBjYXRlZ29yeVNlbGVjdC52YWwoKTtcclxuICAgICAgICB2YXIgZGVzYyA9IGRlc2NJbnB1dC52YWwoKTtcclxuICAgICAgICB2YXIgdGh1bWJuYWlsID0gdGh1bWJuYWlsSW5wdXQudmFsKCk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB1ZS5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgdmFyIHVybCA9ICcnO1xyXG4gICAgICAgIGlmKHBrKXtcclxuICAgICAgICAgICAgdXJsID0gJy9jbXMvZWRpdF9uZXdzLyc7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICB1cmwgPSAnL2Ntcy9hZGRfbmV3cy8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighdGl0bGV8fCFjYXRlZ29yeXx8IWRlc2N8fCF0aHVtYm5haWx8fCFjb250ZW50KXtcclxuICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKCfor7fovpPlhaXmlrDpl7vlrozmlbTkv6Hmga/vvIEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzp1cmwsXHJcbiAgICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICAndGl0bGUnOnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgJ2NhdGVnb3J5JzpjYXRlZ29yeSxcclxuICAgICAgICAgICAgICAgICdkZXNjJzpkZXNjLFxyXG4gICAgICAgICAgICAgICAgJ3RodW1ibmFpbCc6dGh1bWJuYWlsLFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOmNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAncGsnOnBrXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihwayl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2Vzc1RvYXN0KCfmlrDpl7vnvJbovpHmiJDlip/vvIEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2Vzc1RvYXN0KCfmlrDpl7vlj5HluIPmiJDlip/vvIEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJy9jbXMvbmV3c19saXN0cy8nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZmFpbCc6ZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydEluZm9Ub2FzdChlcnJvcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy8g5LiK5Lyg5Yiw5pys5Zyw5pyN5Yqh5Zmo6K6+572uXHJcbk5ld3MucHJvdG90eXBlLmxpc3RlblVwbG9hZEZpbGVFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgdXBsb2FkQnRuID0gJCgnI3RodW1ibmFpbC1idG4nKTtcclxuICAgIHVwbG9hZEJ0bi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmaWxlID0gdXBsb2FkQnRuWzBdLmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZvcm1kYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOicvY21zL3VwbG9hZF9maWxlLycsXHJcbiAgICAgICAgICAgICdkYXRhJzogZm9ybWRhdGEsXHJcbiAgICAgICAgICAgICdwcm9jZXNzRGF0YSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnY29udGVudFR5cGUnOiBmYWxzZSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1nVXJsID0gcmVzdWx0WydkYXRhJ11bJ3VybCddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmxJbnB1dCA9ICQoXCJpbnB1dFtuYW1lPSd0aHVtYm5haWwnXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB1cmxJbnB1dC52YWwoaW1nVXJsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG4vLyDkuIrkvKDliLDkuIPniZvkupFcclxuTmV3cy5wcm90b3R5cGUubGlzdGVuUWluaXVVcGxvYWRFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHVwbG9hZEJ0biA9ICQoJyN0aHVtYm5haWwtYnRuJyk7XHJcbiAgICAgICAgdXBsb2FkQnRuLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlc1swXTtcclxuICAgICAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAgICAgJ3VybCc6Jy9jbXMvcW50b2tlbi8nLFxyXG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpKycuJytmaWxlLm5hbWUuc3BsaXQoJy4nKVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHB1dEV4dHJhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZuYW1lJzprZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFyYW1zJzp7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtaW1lVHlwZSc6WydpbWFnZS9wbmcnLCdpbWFnZS9qcGVnJywnaW1hZ2UvZ2lmJywndmlkZW8vbXA0J11cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyQ2RuRG9tYWluJzp0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JldHJ5Q291bnQnOjYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmVnaW9uJzpxaW5pdS5yZWdpb24uejEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gcWluaXUudXBsb2FkKGZpbGUsa2V5LHRva2VuLHB1dEV4dHJhLGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGUuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICduZXh0JzpzZWxmLlFpbml1VXBsb2FkTmV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcic6c2VsZi5RaW5pdVVwbG9hZEVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbXBsZXRlJzpzZWxmLlFpbml1VXBsb2FkQ29tcGxldGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxufTtcclxuLy8g5paH5Lu25LiK5LygbmV4dO+8jOS8muacieS4iuS8oOeahOi/m+W6puS/oeaBr1xyXG5OZXdzLnByb3RvdHlwZS5RaW5pdVVwbG9hZE5leHQgPSBmdW5jdGlvbihyZXMpe1xyXG4gICAgdmFyIHRvdGFsID0gcmVzLnRvdGFsO1xyXG4gICAgdmFyIHBlcmNlbnQgPSB0b3RhbC5wZXJjZW50O1xyXG4gICAgdmFyIHByb2dlc3NHcm91cCA9ICQoJyNwcm9nZXNzLWdyb3VwJyk7XHJcbiAgICB2YXIgcHJvZ2Vzc2JhciA9ICQoJy5wcm9ncmVzcy1iYXInKTtcclxuICAgIHByb2dlc3NiYXIuY3NzKHsnd2lkdGgnOjB9KTtcclxuICAgIHByb2dlc3NHcm91cC5zaG93KCk7XHJcbiAgICBwcm9nZXNzYmFyLmNzcyh7J3dpZHRoJzpwZXJjZW50KyclJ30pO1xyXG4gICAgcHJvZ2Vzc2Jhci50ZXh0KHBlcmNlbnQudG9GaXhlZCgpKyclJyk7XHJcbn07XHJcbk5ld3MucHJvdG90eXBlLlFpbml1VXBsb2FkRXJyb3IgPSBmdW5jdGlvbihlcnIpe1xyXG4gICAgZXJyPSfkuIrkvKDmlofku7bnsbvlnovplJnor6/vvIzor7fpgInmi6nlm77niYfmlofku7bvvIEnO1xyXG4gICAgeGZ6YWxlcnQuYWxlcnRFcnJvclRvYXN0KGVycik7XHJcbiAgICAvLyB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IoZXJyKTtcclxufTtcclxuTmV3cy5wcm90b3R5cGUuUWluaXVVcGxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uKHJlcyl7XHJcbiAgICB2YXIgZmlsZW5hbWUgPSByZXNbJ2tleSddO1xyXG4gICAgdmFyIGRvbWFpbiA9ICdodHRwOi8vcGJjaTdqaTl0LmJrdC5jbG91ZGRuLmNvbS8nO1xyXG4gICAgdmFyIHByb2dlc3NHcm91cCA9ICQoJyNwcm9nZXNzLWdyb3VwJyk7XHJcbiAgICB2YXIgZmlsZUlucHV0ID0gJChcImlucHV0W25hbWU9J3RodW1ibmFpbCddXCIpO1xyXG4gICAgZmlsZUlucHV0LnZhbChkb21haW4rZmlsZW5hbWUpO1xyXG4gICAgcHJvZ2Vzc0dyb3VwLmhpZGUoKTtcclxuXHJcbn07XHJcbk5ld3MucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIHNlbGYubGlzdGVuVXBsb2FkRmlsZUV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblFpbml1VXBsb2FkRXZlbnQoKTtcclxuICAgIHNlbGYuVWVkaXRvckV2ZW50KCk7XHJcbiAgICBzZWxmLkFkZE5ld3NFdmVudCgpO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgIHZhciBuZXdzID0gbmV3IE5ld3MoKTtcclxuICAgbmV3cy5ydW4oKTtcclxufSk7Il19
