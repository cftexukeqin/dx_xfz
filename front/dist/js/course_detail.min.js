function CourseDetail(){}CourseDetail.prototype.initPlayVideo=function(){var e=$("#info-span"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),n=cyberplayer("playcontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"16e1df1478ab483f887311919b9d8fbb"});n.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t},success:function(e){if(200===e.code){var t=e.data.token;n.setToken(o.file,t)}else alert("token错误！")},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayVideo()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXlWaWRlbyIsInNwYW4iLCIkIiwidmlkZW91cmwiLCJhdHRyIiwiY292ZXJfdXJsIiwicGxheWVyIiwiY3liZXJwbGF5ZXIiLCJzZXR1cCIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsZSIsImltYWdlIiwiYXV0b3N0YXJ0Iiwic3RyZXRjaGluZyIsInJlcGVhdCIsInZvbHVtZSIsImNvbnRyb2xzIiwidG9rZW5FbmNyeXB0IiwiYWsiLCJvbiIsImUiLCJ0ZXN0IiwieGZ6YWpheCIsImdldCIsInVybCIsImRhdGEiLCJ2aWRlbyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0b2tlbiIsInNldFRva2VuIiwiYWxlcnQiLCJmYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBR1RBLGFBQWFDLFVBQVVDLGNBQWdCLFdBQ25DLElBQUlDLEVBQU9DLEVBQUUsY0FDVEMsRUFBV0YsRUFBS0csS0FBSyxrQkFDckJDLEVBQVlKLEVBQUtHLEtBQUssa0JBQ3RCRSxFQUFTQyxZQUFZLGlCQUFpQkMsTUFBTSxDQUM1Q0MsTUFBTyxPQUNQQyxPQUFRLE9BQ1JDLEtBQU1SLEVBQ05TLE1BQU9QLEVBQ1BRLFdBQVcsRUFDWEMsV0FBWSxVQUNaQyxRQUFRLEVBQ1JDLE9BQVEsSUFDUkMsVUFBVSxFQUNWQyxjQUFjLEVBRWRDLEdBQUkscUNBRVJiLEVBQU9jLEdBQUcsYUFBYyxTQUFVQyxHQUN6QixPQUFPQyxLQUFLRCxFQUFFVixPQUduQlksUUFBUUMsSUFBSSxDQUVSQyxJQUFPLHdCQUNQQyxLQUFRLENBQ0pDLE1BQVN4QixHQUVieUIsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlDLEVBQVFELEVBQWEsS0FBUyxNQUNsQ3ZCLEVBQU95QixTQUFTVixFQUFFVixLQUFNbUIsUUFFeEJFLE1BQU0sYUFHZEMsS0FBUSxTQUFVQyxHQUNkQyxRQUFRQyxJQUFJRixTQUs1QnBDLGFBQWFDLFVBQVVzQyxJQUFLLFdBQ3hCQyxLQUFLdEMsaUJBRVRFLEVBQUUsWUFDYyxJQUFJSixjQUNWdUMiLCJmaWxlIjoiY291cnNlX2RldGFpbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBDb3Vyc2VEZXRhaWwoKSB7XHJcblxyXG59XHJcbkNvdXJzZURldGFpbC5wcm90b3R5cGUuaW5pdFBsYXlWaWRlbyA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc3BhbiA9ICQoJyNpbmZvLXNwYW4nKTtcclxuICAgIHZhciB2aWRlb3VybCA9IHNwYW4uYXR0cignZGF0YS12aWRlby11cmwnKTtcclxuICAgIHZhciBjb3Zlcl91cmwgPSBzcGFuLmF0dHIoJ2RhdGEtY292ZXItdXJsJyk7XHJcbiAgICB2YXIgcGxheWVyID0gY3liZXJwbGF5ZXIoXCJwbGF5Y29udGFpbmVyXCIpLnNldHVwKHtcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgIGZpbGU6IHZpZGVvdXJsLFxyXG4gICAgICAgIGltYWdlOiBjb3Zlcl91cmwsXHJcbiAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcclxuICAgICAgICBzdHJldGNoaW5nOiBcInVuaWZvcm1cIixcclxuICAgICAgICByZXBlYXQ6IGZhbHNlLFxyXG4gICAgICAgIHZvbHVtZTogMTAwLFxyXG4gICAgICAgIGNvbnRyb2xzOiB0cnVlLFxyXG4gICAgICAgIHRva2VuRW5jcnlwdDogdHJ1ZSxcclxuICAgICAgICAvLyBBY2Nlc3NLZXlcclxuICAgICAgICBhazogJzE2ZTFkZjE0NzhhYjQ4M2Y4ODczMTE5MTliOWQ4ZmJiJ1xyXG4gICAgfSk7XHJcbiAgICBwbGF5ZXIub24oJ2JlZm9yZVBsYXknLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICghL20zdTgvLnRlc3QoZS5maWxlKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgLy8g6I635Y+WdG9rZW7nmoR1cmxcclxuICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvdXJsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0VG9rZW4oZS5maWxlLCB0b2tlbik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCd0b2tlbumUmeivr++8gScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZmFpbCc6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5ydW4gPWZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFBsYXlWaWRlbygpO1xyXG59O1xyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgdmFyIGNvdXJzZSA9IG5ldyBDb3Vyc2VEZXRhaWwoKTtcclxuICAgY291cnNlLnJ1bigpO1xyXG59KTsiXX0=
