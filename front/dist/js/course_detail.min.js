function CourseDetail(){}CourseDetail.prototype.initPlayVideo=function(){var e=$("#info-span"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),i=cyberplayer("playcontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"16e1df1478ab483f887311919b9d8fbb"});i.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;i.setToken(o.file,t)}else window.messageBox.showInfo(e.message),i.stop()},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayVideo()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXlWaWRlbyIsInNwYW4iLCIkIiwidmlkZW91cmwiLCJhdHRyIiwiY292ZXJfdXJsIiwiY291cnNlX2lkIiwicGxheWVyIiwiY3liZXJwbGF5ZXIiLCJzZXR1cCIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsZSIsImltYWdlIiwiYXV0b3N0YXJ0Iiwic3RyZXRjaGluZyIsInJlcGVhdCIsInZvbHVtZSIsImNvbnRyb2xzIiwidG9rZW5FbmNyeXB0IiwiYWsiLCJvbiIsImUiLCJ0ZXN0IiwieGZ6YWpheCIsImdldCIsInVybCIsImRhdGEiLCJ2aWRlbyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0b2tlbiIsInNldFRva2VuIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dJbmZvIiwic3RvcCIsImZhaWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJydW4iLCJ0aGlzIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxnQkFHVEEsYUFBYUMsVUFBVUMsY0FBZ0IsV0FDbkMsSUFBSUMsRUFBT0MsRUFBRSxjQUNUQyxFQUFXRixFQUFLRyxLQUFLLGtCQUNyQkMsRUFBWUosRUFBS0csS0FBSyxrQkFDdEJFLEVBQVlMLEVBQUtHLEtBQUssa0JBQ3RCRyxFQUFTQyxZQUFZLGlCQUFpQkMsTUFBTSxDQUM1Q0MsTUFBTyxPQUNQQyxPQUFRLE9BQ1JDLEtBQU1ULEVBQ05VLE1BQU9SLEVBQ1BTLFdBQVcsRUFDWEMsV0FBWSxVQUNaQyxRQUFRLEVBQ1JDLE9BQVEsSUFDUkMsVUFBVSxFQUNWQyxjQUFjLEVBRWRDLEdBQUkscUNBRVJiLEVBQU9jLEdBQUcsYUFBYyxTQUFVQyxHQUN6QixPQUFPQyxLQUFLRCxFQUFFVixPQUduQlksUUFBUUMsSUFBSSxDQUVSQyxJQUFPLHdCQUNQQyxLQUFRLENBQ0pDLE1BQVN6QixFQUNURyxVQUFZQSxHQUVoQnVCLFFBQVcsU0FBVUMsR0FDakIsR0FBdUIsTUFBbkJBLEVBQWEsS0FBVyxDQUN4QixJQUFJQyxFQUFRRCxFQUFhLEtBQVMsTUFDbEN2QixFQUFPeUIsU0FBU1YsRUFBRVYsS0FBTW1CLFFBRXhCRSxPQUFPQyxXQUFXQyxTQUFTTCxFQUFnQixTQUMzQ3ZCLEVBQU82QixRQUdmQyxLQUFRLFNBQVVDLEdBQ2RDLFFBQVFDLElBQUlGLFNBSzVCeEMsYUFBYUMsVUFBVTBDLElBQUssV0FDeEJDLEtBQUsxQyxpQkFFVEUsRUFBRSxZQUNjLElBQUlKLGNBQ1YyQyIsImZpbGUiOiJjb3Vyc2VfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENvdXJzZURldGFpbCgpIHtcclxuXHJcbn1cclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5pbml0UGxheVZpZGVvID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzcGFuID0gJCgnI2luZm8tc3BhbicpO1xyXG4gICAgdmFyIHZpZGVvdXJsID0gc3Bhbi5hdHRyKCdkYXRhLXZpZGVvLXVybCcpO1xyXG4gICAgdmFyIGNvdmVyX3VybCA9IHNwYW4uYXR0cignZGF0YS1jb3Zlci11cmwnKTtcclxuICAgIHZhciBjb3Vyc2VfaWQgPSBzcGFuLmF0dHIoJ2RhdGEtY291cnNlLWlkJyk7XHJcbiAgICB2YXIgcGxheWVyID0gY3liZXJwbGF5ZXIoXCJwbGF5Y29udGFpbmVyXCIpLnNldHVwKHtcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgIGZpbGU6IHZpZGVvdXJsLFxyXG4gICAgICAgIGltYWdlOiBjb3Zlcl91cmwsXHJcbiAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcclxuICAgICAgICBzdHJldGNoaW5nOiBcInVuaWZvcm1cIixcclxuICAgICAgICByZXBlYXQ6IGZhbHNlLFxyXG4gICAgICAgIHZvbHVtZTogMTAwLFxyXG4gICAgICAgIGNvbnRyb2xzOiB0cnVlLFxyXG4gICAgICAgIHRva2VuRW5jcnlwdDogdHJ1ZSxcclxuICAgICAgICAvLyBBY2Nlc3NLZXlcclxuICAgICAgICBhazogJzE2ZTFkZjE0NzhhYjQ4M2Y4ODczMTE5MTliOWQ4ZmJiJ1xyXG4gICAgfSk7XHJcbiAgICBwbGF5ZXIub24oJ2JlZm9yZVBsYXknLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICghL20zdTgvLnRlc3QoZS5maWxlKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgLy8g6I635Y+WdG9rZW7nmoR1cmxcclxuICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvdXJsLFxyXG4gICAgICAgICAgICAgICAgJ2NvdXJzZV9pZCc6Y291cnNlX2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0VG9rZW4oZS5maWxlLCB0b2tlbik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dJbmZvKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZmFpbCc6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5ydW4gPWZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFBsYXlWaWRlbygpO1xyXG59O1xyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgdmFyIGNvdXJzZSA9IG5ldyBDb3Vyc2VEZXRhaWwoKTtcclxuICAgY291cnNlLnJ1bigpO1xyXG59KTsiXX0=
