function NewsList(){this.maskWrapper=$(".mask-wrapper")}NewsList.prototype.ListenSubmitBtnClick=function(){var s=this,n=$(".commit-btn"),i=$("textarea[name='comment']");n.click(function(){var t=i.val(),e=n.attr("data-id");xfzajax.post({url:"/news/pub_comment/",data:{content:t,news_id:e},success:function(t){if(200===t.code){var e=t.data,n=template("comment-item",{comment:e});$(".comment-list").prepend(n),i.val(""),window.messageBox.showSuccess("评论成功！")}else s.maskWrapper.show()},fail:function(t){window.messageBox.showError(t)}})})},NewsList.prototype.run=function(){this.ListenSubmitBtnClick()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwidGhpcyIsIm1hc2tXcmFwcGVyIiwiJCIsInByb3RvdHlwZSIsIkxpc3RlblN1Ym1pdEJ0bkNsaWNrIiwic2VsZiIsInN1Ym1pdEJ0biIsInRleHRhcmVhIiwiY2xpY2siLCJjb250ZW50IiwidmFsIiwibmV3c19pZCIsImF0dHIiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29tbWVudCIsInRwbCIsInRlbXBsYXRlIiwicHJlcGVuZCIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93U3VjY2VzcyIsInNob3ciLCJmYWlsIiwiZXJyIiwic2hvd0Vycm9yIiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxXQUNNQyxLQUNOQyxZQUFjQyxFQUFFLGlCQUV6QkgsU0FBU0ksVUFBVUMscUJBQXVCLFdBQ3RDLElBQUlDLEVBQU9MLEtBQ1BNLEVBQVlKLEVBQUUsZUFDZEssRUFBV0wsRUFBRSw0QkFDakJJLEVBQVVFLE1BQU0sV0FDWixJQUFJQyxFQUFVRixFQUFTRyxNQUNuQkMsRUFBVUwsRUFBVU0sS0FBSyxXQUM3QkMsUUFBUUMsS0FBSyxDQUNUQyxJQUFNLHFCQUNOQyxLQUFPLENBQ0hQLFFBQVVBLEVBQ1ZFLFFBQVVBLEdBRWRNLFFBQVUsU0FBVUMsR0FDaEIsR0FBc0IsTUFBbkJBLEVBQWEsS0FBVSxDQUN0QixJQUFJQyxFQUFVRCxFQUFhLEtBQ3ZCRSxFQUFNQyxTQUFTLGVBQWUsQ0FBQ0YsUUFBVUEsSUFDM0JqQixFQUFFLGlCQUNSb0IsUUFBUUYsR0FDcEJiLEVBQVNHLElBQUksSUFDYmEsT0FBT0MsV0FBV0MsWUFBWSxjQUU5QnBCLEVBQUtKLFlBQVl5QixRQUd6QkMsS0FBTyxTQUFVQyxHQUNiTCxPQUFPQyxXQUFXSyxVQUFVRCxTQUs1QzdCLFNBQVNJLFVBQVUyQixJQUFNLFdBQ3JCOUIsS0FBS0ksd0JBRVRGLEVBQUUsWUFDaUIsSUFBSUgsVUFDWCtCIiwiZmlsZSI6Im5ld3NfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIE5ld3NMaXN0KCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrV3JhcHBlciA9ICQoJy5tYXNrLXdyYXBwZXInKTtcclxufVxyXG5OZXdzTGlzdC5wcm90b3R5cGUuTGlzdGVuU3VibWl0QnRuQ2xpY2sgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHN1Ym1pdEJ0biA9ICQoJy5jb21taXQtYnRuJyk7XHJcbiAgICB2YXIgdGV4dGFyZWEgPSAkKFwidGV4dGFyZWFbbmFtZT0nY29tbWVudCddXCIpO1xyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29udGVudCA9IHRleHRhcmVhLnZhbCgpO1xyXG4gICAgICAgIHZhciBuZXdzX2lkID0gc3VibWl0QnRuLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzonL25ld3MvcHViX2NvbW1lbnQvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50Jzpjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ25ld3NfaWQnOm5ld3NfaWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudCA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgnY29tbWVudC1pdGVtJyx7J2NvbW1lbnQnOmNvbW1lbnR9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudExpc3QgPSAkKCcuY29tbWVudC1saXN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudExpc3QucHJlcGVuZCh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLnZhbChcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2Vzcygn6K+E6K665oiQ5Yqf77yBJylcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm1hc2tXcmFwcGVyLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2ZhaWwnOmZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcbk5ld3NMaXN0LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLkxpc3RlblN1Ym1pdEJ0bkNsaWNrKCk7XHJcbn07XHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICB2YXIgbmV3c2xpc3QgID0gbmV3IE5ld3NMaXN0KCk7XHJcbiAgIG5ld3NsaXN0LnJ1bigpO1xyXG59KTsiXX0=
