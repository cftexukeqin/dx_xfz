function Banner(){this.bannerWidth=840,this.bannerGroup=$("#banner-group"),this.index=1,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-ul"),this.ilList=this.bannerUl.children("li"),this.bannerCount=this.ilList.length,this.pageControl=$(".page-control")}function Index(){var n=this;n.page=2,n.category_id=0,n.loadBtn=$("#load-more-btn")}Banner.prototype.toggleArrow=function(n){var t=this;n?(t.rightArrow.toggle(),t.leftArrow.toggle()):(t.rightArrow.hide(),t.leftArrow.hide())},Banner.prototype.initBanner=function(){var n=this,t=n.ilList.eq(0).clone(),e=n.ilList.eq(n.bannerCount-1).clone();n.bannerUl.append(t),n.bannerUl.prepend(e),n.bannerUl.css({width:n.bannerWidth*(n.bannerCount+2),left:-n.bannerWidth})},Banner.prototype.initPageControl=function(){for(var n=this,t=$(".page-control"),e=0;e<n.bannerCount;e++){var i=$("<li></li>");t.append(i),0===e&&i.addClass("active")}t.css({width:12*n.bannerCount+16+16*(n.bannerCount-1)})},Banner.prototype.animate=function(){var n=this;n.bannerUl.animate({left:-840*n.index},500);var t=n.index;t=0===t?n.bannerCount-1:t===n.bannerCount+1?0:n.index-1,n.pageControl.children("li").eq(t).addClass("active").siblings().removeClass("active")},Banner.prototype.loop=function(){var n=this;n.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()},2e3)},Banner.prototype.listenBannerGroup=function(){var n=this;n.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.listenArrowClick=function(){var n=this;n.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerWidth*n.bannerCount}),n.index=n.bannerCount-1):n.index--,n.animate()}),n.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()})},Banner.prototype.listenPageControl=function(){var e=this;e.pageControl.children("li").each(function(n,t){$(t).click(function(){e.index=n+1,e.animate()})})},Index.prototype.ListenCategorySwitchEvent=function(){var o=this;$(".list-tab").children().click(function(){var r=$(this),a=r.attr("data-category");xfzajax.get({url:"/news/list/",data:{p:1,category_id:a},success:function(n){if(200===n.code){var t=n.data,e=$(".list-inner-group"),i=template("newslist",{newses:t});e.empty(),e.append(i),o.page=2,r.addClass("active").siblings().removeClass("active"),o.category_id=a,o.loadBtn.show()}}})})},Index.prototype.ListenLoadMoreBtnEvent=function(){var r=this,a=$("#load-more-btn");a.click(function(){xfzajax.get({url:"/news/list/",data:{p:r.page,category_id:r.category_id},success:function(n){if(200===n.code){var t=n.data;if(0<t.length){var e=$(".list-inner-group"),i=template("newslist",{newses:t});e.append(i),r.page+=1}else a.hide()}}})})},Index.prototype.run=function(){this.ListenLoadMoreBtnEvent(),this.ListenCategorySwitchEvent()},Banner.prototype.run=function(){this.initBanner(),this.initPageControl(),this.loop(),this.listenBannerGroup(),this.listenArrowClick(),this.listenPageControl()},$(function(){var n=new Banner;(new Index).run(),n.run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaWR0aCIsImJhbm5lckdyb3VwIiwiJCIsImluZGV4IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVsIiwiaWxMaXN0IiwiY2hpbGRyZW4iLCJiYW5uZXJDb3VudCIsImxlbmd0aCIsInBhZ2VDb250cm9sIiwiSW5kZXgiLCJzZWxmIiwicGFnZSIsImNhdGVnb3J5X2lkIiwibG9hZEJ0biIsInByb3RvdHlwZSIsInRvZ2dsZUFycm93IiwiaXNTaG93IiwidG9nZ2xlIiwiaGlkZSIsImluaXRCYW5uZXIiLCJmaXJzdGJhbm5lciIsImVxIiwiY2xvbmUiLCJsYXN0YmFubmVyIiwiYXBwZW5kIiwicHJlcGVuZCIsImNzcyIsIndpZHRoIiwibGVmdCIsImluaXRQYWdlQ29udHJvbCIsImkiLCJjaXJjbGUiLCJhZGRDbGFzcyIsImFuaW1hdGUiLCJzaWJsaW5ncyIsInJlbW92ZUNsYXNzIiwibG9vcCIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJsaXN0ZW5CYW5uZXJHcm91cCIsImhvdmVyIiwiY2xlYXJJbnRlcnZhbCIsImxpc3RlbkFycm93Q2xpY2siLCJjbGljayIsImxpc3RlblBhZ2VDb250cm9sIiwiZWFjaCIsIm9iaiIsIkxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQiLCJsaSIsImF0dHIiLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInAiLCJzdWNjZXNzIiwicmVzdWx0IiwibmV3c2VzIiwibGlzdEdyb3VwIiwiaHRtbCIsInRlbXBsYXRlIiwiZW1wdHkiLCJzaG93IiwiTGlzdGVuTG9hZE1vcmVCdG5FdmVudCIsInJ1biIsImJhbm5lciJdLCJtYXBwaW5ncyI6IkFBa0JBLFNBQVNBLFNBQ0xDLEtBQUtDLFlBQWMsSUFDbkJELEtBQUtFLFlBQWNDLEVBQUUsaUJBQ3JCSCxLQUFLSSxNQUFRLEVBQ2JKLEtBQUtLLFVBQVlGLEVBQUUsZUFDbkJILEtBQUtN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QUltRCxFQUFZM0QsRUFBRSxxQkFDZDRELEVBQU9DLFNBQVMsV0FBWSxDQUFDSCxPQUFVQSxJQUMzQ0MsRUFBVWxDLE9BQU9tQyxHQUNqQmpELEVBQUtDLE1BQVEsT0FFYkUsRUFBUUssY0FPaENULE1BQU1LLFVBQVVrRCxJQUFNLFdBQ1BwRSxLQUNObUUseUJBRE1uRSxLQUVObUQsNkJBR1RwRCxPQUFPbUIsVUFBVWtELElBQU0sV0FFbkJwRSxLQUFLdUIsYUFDTHZCLEtBQUtpQyxrQkFDTGpDLEtBQUt3QyxPQUNMeEMsS0FBSzJDLG9CQUNMM0MsS0FBSzhDLG1CQUNMOUMsS0FBS2dELHFCQUtUN0MsRUFBRSxXQUNDLElBQUlrRSxFQUFTLElBQUl0RSxRQUNMLElBQUtjLE9BQ1h1RCxNQUNOQyxFQUFPRCIsImZpbGUiOiJpbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL2pRdWVyeSDmmK/kuIDkuKrpq5jmlYjjgIHnsr7nroDlubbkuJTlip/og73kuLDlr4znmoQgSmF2YVNjcmlwdCDlt6XlhbflupPjgILlroPmj5DkvpvnmoQgQVBJIOaYk+S6juS9v+eUqOS4lOWFvOWuueS8l+Wkmua1j+iniOWZqO+8jFxyXG4vLyDov5norqnor7jlpoIgSFRNTCDmlofmoaPpgY3ljoblkozmk43kvZzjgIHkuovku7blpITnkIbjgIHliqjnlLvlkowgQWpheCDmk43kvZzmm7TliqDnroDljZXjgIJcclxuLy8gSnF1ZXJ5IOmdouWQkeWvueixoee8lueoi1xyXG4vLyDlrprkuYnnsbvvvIzmiJbogIXor7Tlh73mlbDvvIzpgJrov4d0aGlzIOa3u+WKoOWxnuaAp1xyXG4vLyBDbGFzcy5wcm90b3RweWUuZnVuYyA9IGZ1bmN0aW9uKCl7feeahOW9ouW8j+WumuS5ieaWueazlVxyXG4vLyBmdW5jdGlvbiBCYW5uZXIoKSB7XHJcbi8vICAgICBjb25zb2xlLmxvZygn5p6E6YCg5Ye95pWwJyk7XHJcbi8vICAgICB0aGlzLnBlcnNvbiA9ICdyYWJiaXQnO1xyXG4vLyB9XHJcbi8vIEJhbm5lci5wcm90b3R5cGUuZ3JlZXQgPSBmdW5jdGlvbiAod29yZCkge1xyXG4vLyAgICAgY29uc29sZS5sb2coJ+WumuS5ieWHveaVsCcsd29yZClcclxuLy8gfTtcclxuLy8gdmFyIGJhbm5lciA9IG5ldyBCYW5uZXIoKTtcclxuLy8gY29uc29sZS5sb2coYmFubmVyLnBlcnNvbik7XHJcbi8vIGJhbm5lci5ncmVldCgneHVrZXFpbicpO1xyXG5cclxuXHJcbi8vICDlrprkuYnkuIDkuKpCYW5uZXIg57G777yM55So6L+HdGhpcy5hdHRyIOa3u+WKoOWxnuaAp1xyXG5mdW5jdGlvbiBCYW5uZXIoKSB7XHJcbiAgICB0aGlzLmJhbm5lcldpZHRoID0gODQwO1xyXG4gICAgdGhpcy5iYW5uZXJHcm91cCA9ICQoJyNiYW5uZXItZ3JvdXAnKTtcclxuICAgIHRoaXMuaW5kZXggPSAxO1xyXG4gICAgdGhpcy5sZWZ0QXJyb3cgPSAkKCcubGVmdC1hcnJvdycpO1xyXG4gICAgdGhpcy5yaWdodEFycm93ID0gJCgnLnJpZ2h0LWFycm93Jyk7XHJcbiAgICB0aGlzLmJhbm5lclVsID0gJCgnI2Jhbm5lci11bCcpO1xyXG4gICAgdGhpcy5pbExpc3QgPSB0aGlzLmJhbm5lclVsLmNoaWxkcmVuKCdsaScpO1xyXG4gICAgdGhpcy5iYW5uZXJDb3VudCA9IHRoaXMuaWxMaXN0Lmxlbmd0aDtcclxuICAgIHRoaXMucGFnZUNvbnRyb2wgPSAkKCcucGFnZS1jb250cm9sJyk7XHJcblxyXG5cclxufVxyXG5cclxuLy8g5a6a5LmJ566t5aS05pi+56S65LiO5ZCm55qE5Ye95pWwXHJcbkJhbm5lci5wcm90b3R5cGUudG9nZ2xlQXJyb3cgPSBmdW5jdGlvbihpc1Nob3cpe1xyXG4gIHZhciBzZWxmID0gdGhpcztcclxuICBpZihpc1Nob3cpe1xyXG4gICAgICBzZWxmLnJpZ2h0QXJyb3cudG9nZ2xlKCk7XHJcbiAgICAgIHNlbGYubGVmdEFycm93LnRvZ2dsZSgpO1xyXG4gIH1lbHNlIHtcclxuICAgICAgc2VsZi5yaWdodEFycm93LmhpZGUoKTtcclxuICAgICAgc2VsZi5sZWZ0QXJyb3cuaGlkZSgpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIGJhbm5lcuWIneWni+WMluWHveaVsFxyXG5CYW5uZXIucHJvdG90eXBlLmluaXRCYW5uZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8g5YiG5Yir6I635Y+W5Yiw56ys5LiA5byg5ZKM5pyA5ZCO5LiA5bygXHJcbiAgICB2YXIgZmlyc3RiYW5uZXIgPSBzZWxmLmlsTGlzdC5lcSgwKS5jbG9uZSgpO1xyXG4gICAgdmFyIGxhc3RiYW5uZXIgPSBzZWxmLmlsTGlzdC5lcShzZWxmLmJhbm5lckNvdW50LTEpLmNsb25lKCk7XHJcbiAgICBzZWxmLmJhbm5lclVsLmFwcGVuZChmaXJzdGJhbm5lcik7XHJcbiAgICBzZWxmLmJhbm5lclVsLnByZXBlbmQobGFzdGJhbm5lcik7XHJcblxyXG4gICAgc2VsZi5iYW5uZXJVbC5jc3Moeyd3aWR0aCc6c2VsZi5iYW5uZXJXaWR0aCooc2VsZi5iYW5uZXJDb3VudCsyKSwnbGVmdCc6LXNlbGYuYmFubmVyV2lkdGh9KTtcclxuXHJcbn07XHJcblxyXG4vLyDlsI/lnIbngrnliJ3lp4vljJblh73mlbBcclxuQmFubmVyLnByb3RvdHlwZS5pbml0UGFnZUNvbnRyb2wgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gIC8vIOiOt+WPluWIsOagh+etvlxyXG4gICAgdmFyIHBhZ2VDb250cm9sID0gJCgnLnBhZ2UtY29udHJvbCcpO1xyXG4gICAgZm9yKHZhciBpPTA7aTxzZWxmLmJhbm5lckNvdW50O2krKylcclxuICAgIHtcclxuICAgICAgICB2YXIgY2lyY2xlID0gJCgnPGxpPjwvbGk+Jyk7XHJcbiAgICAgICAgcGFnZUNvbnRyb2wuYXBwZW5kKGNpcmNsZSk7XHJcbiAgICAgICAgaWYoaT09PTApe1xyXG4gICAgICAgICAgICBjaXJjbGUuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBhZ2VDb250cm9sLmNzcyh7J3dpZHRoJzoxMipzZWxmLmJhbm5lckNvdW50KzE2KyhzZWxmLmJhbm5lckNvdW50LTEpKjE2fSlcclxufTtcclxuXHJcbi8vIOi9ruaSreWbvuWHveaVsOWwgeijhVxyXG5CYW5uZXIucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5hbmltYXRlKHsnbGVmdCc6LTg0MCpzZWxmLmluZGV4fSw1MDApO1xyXG4gICAgLy8g56e75Yqo55qE5pe25YCZ77yM6I635Y+W5b2T5YmN5piv5ZOq5LiqbGnmoIfnrb7vvIznhLblkI7nu5nku5bmt7vliqDkuIDkuKphY3RpdmUg57G777yMXHJcbiAgICAvLyBwYWdlQ29udHJvbC5jaGlsZHJlbignbGknKSDojrflj5bmiYDmnInlrZBsaeagh+etvlxyXG4gICAgdmFyIGluZGV4ID0gc2VsZi5pbmRleDtcclxuICAgIGlmKGluZGV4PT09MCl7XHJcbiAgICAgICAgaW5kZXggPSBzZWxmLmJhbm5lckNvdW50IC0gMTtcclxuICAgIH1lbHNlIGlmIChpbmRleCA9PT0gc2VsZi5iYW5uZXJDb3VudCArIDEpe1xyXG4gICAgICAgIGluZGV4ID0gMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5kZXggPSBzZWxmLmluZGV4IC0gMTtcclxuICAgIH1cclxuICAgIHNlbGYucGFnZUNvbnRyb2wuY2hpbGRyZW4oJ2xpJykuZXEoaW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxufTtcclxuXHJcbi8vIOimgeaxgue7neWvueWumuS9jeWSjOebuOWvueWumuS9jVxyXG4vLyDova7mkq3lm77np7vliqjlh73mlbBcclxuLy8gIOW+queOr+i9ruaSreeahOaAnei3r++8mlxyXG4vLyAxLuWcqOacgOWJjemdoua3u+WKoOacgOWQjuS4gOW8oO+8jOWcqOacgOWQjumdoua3u+WKoOesrOS4gOW8oOOAgueEtuWQjuW+queOr+WIsOWFi+mahueahOmCo+S4gOW8oOaXtu+8jOW/q+mAn+i3s+WIsOaMiemhuuW6j+eahOS4i+S4gOW8oFxyXG5CYW5uZXIucHJvdG90eXBlLmxvb3AgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gYmFubmVyVWwuY3NzKHsnbGVmdCc6LTg0MH0pO1xyXG4gICAgc2VsZi50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZihzZWxmLmluZGV4ID49IChzZWxmLmJhbm5lckNvdW50KzEpKXtcclxuICAgICAgICAgICAgLy8g5q2k5pe256uL6ams6Lez5Yiw56ys5LqM5LiqPei9ruaSreWbvlxyXG4gICAgICAgICAgICBzZWxmLmJhbm5lclVsLmNzcyh7J2xlZnQnOi1zZWxmLmJhbm5lcldpZHRofSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSAyO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmFuaW1hdGUoKVxyXG4gICAgfSwyMDAwKTtcclxufTtcclxuLy8g55uR5ZCsSG92ZXLml7bpl7TvvIzpvKDmoIfnp7vliqjliLDova7mkq3lm77lkozku47ova7mkq3lm77nprvlvIDnmoTmlYjmnpxcclxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5CYW5uZXJHcm91cCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnbGlzdGVuIOWHveaVsOmHjOmdoueahHRoaXM6Jyx0aGlzKTtcclxuICAgIHNlbGYuYmFubmVyR3JvdXAuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIOesrOS4gOS4quWHveaVsO+8jOm8oOagh+enu+WKqOWIsOS4iumdoueahOaTjeS9nFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdsaXN0ZW4g5Ye95pWw6YeM6Z2i55qEc2VsZjonLHNlbGYpO1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi50aW1lcik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2xpc3RlbiDlh73mlbDph4zpnaLnmoR0aGlzOicsdGhpcyk7XHJcbiAgICAgICAgc2VsZi50b2dnbGVBcnJvdyh0cnVlKTtcclxuICAgIH0sZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIOesrOS6jOS4quWHveaVsO+8jOm8oOagh+emu+W8gOWQjuaJp+ihjOeahOaTjeS9nFxyXG4gICAgICAgIHNlbGYubG9vcCgpO1xyXG4gICAgICAgIHNlbGYudG9nZ2xlQXJyb3coZmFsc2UpO1xyXG4gICAgfSlcclxufTtcclxuXHJcbi8vIOebkeWQrOm8oOagh+eCueWHu+eureWktOS6i+S7tlxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlbkFycm93Q2xpY2sgPSBmdW5jdGlvbigpe1xyXG4gICAgLy9cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGVmdEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZihzZWxmLmluZGV4ID09PSAwKXtcclxuICAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3MoeydsZWZ0Jzotc2VsZi5iYW5uZXJXaWR0aCpzZWxmLmJhbm5lckNvdW50fSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBzZWxmLmJhbm5lckNvdW50IC0gMTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgc2VsZi5pbmRleC0tO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmFuaW1hdGUoKVxyXG4gICAgfSk7XHJcbiAgICBzZWxmLnJpZ2h0QXJyb3cuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmKHNlbGYuaW5kZXggPT09IHNlbGYuYmFubmVyQ291bnQgKzEpe1xyXG4gICAgICAgICAgICBzZWxmLmJhbm5lclVsLmNzcyh7J2xlZnQnOi1zZWxmLmJhbm5lcldpZHRofSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSAyXHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpXHJcblxyXG4gICAgfSlcclxufTtcclxuXHJcbi8vIOebkeWQrOWwj+WchueCueeCueWHu+S6i+S7tlxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlblBhZ2VDb250cm9sID0gZnVuY3Rpb24oKXtcclxuICAgIC8vIOiOt+WPluWIsHBhZ2VDb250cm9s77yM5Lmf5bCx5piv5bCP5ZyG54K5XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnBhZ2VDb250cm9sLmNoaWxkcmVuKCdsaScpLmVhY2goZnVuY3Rpb24gKGluZGV4LG9iaikge1xyXG4gICAgICAgICQob2JqKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBpbmRleCArIDE7XHJcbiAgICAgICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgICAgICAgICAvLyAkKG9iaikucGFnZUNvbnRyb2wuY2hpbGRyZW4oJ2xpJykuZXEoc2VsZi5pbmRleCkuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcbmZ1bmN0aW9uIEluZGV4KCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnBhZ2UgPSAyO1xyXG4gICAgc2VsZi5jYXRlZ29yeV9pZCA9IDA7XHJcbiAgICBzZWxmLmxvYWRCdG4gPSAkKCcjbG9hZC1tb3JlLWJ0bicpO1xyXG59XHJcbkluZGV4LnByb3RvdHlwZS5MaXN0ZW5DYXRlZ29yeVN3aXRjaEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciB0YWJHcm91cCA9ICQoJy5saXN0LXRhYicpO1xyXG4gICAgdGFiR3JvdXAuY2hpbGRyZW4oKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8g6YCa6L+HJCh0aGlzKeiOt+WPluW9k+WJjemAieS4reeahGxp5qCH562+XHJcbiAgICAgICAgdmFyIGxpID0gJCh0aGlzKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnbGknLGxpKTtcclxuICAgICAgICB2YXIgY2F0ZWdvcnlfaWQgPSBsaS5hdHRyKCdkYXRhLWNhdGVnb3J5Jyk7XHJcbiAgICAgICAgdmFyIHBhZ2UgPSAxO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCfov5vlhaXliLDngrnlh7vkuovku7YnLGNhdGVnb3J5X2lkKTtcclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOicvbmV3cy9saXN0LycsXHJcbiAgICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICAncCc6cGFnZSxcclxuICAgICAgICAgICAgICAgICdjYXRlZ29yeV9pZCc6Y2F0ZWdvcnlfaWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3c2VzID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RHcm91cCA9ICQoJy5saXN0LWlubmVyLWdyb3VwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0ZW1wbGF0ZSgnbmV3c2xpc3QnLCB7J25ld3Nlcyc6IG5ld3Nlc30pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RHcm91cC5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RHcm91cC5hcHBlbmQoaHRtbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBsaS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXRlZ29yeV9pZCA9IGNhdGVnb3J5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZEJ0bi5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuLy8g5pi+56S65pu05aSa5oyJ6ZKu54K55Ye75LqL5Lu277yM5bCGSlNPTuaVsOaNruaYvuekuuaIkOaooeadv+aWh+S7tlxyXG5JbmRleC5wcm90b3R5cGUuTGlzdGVuTG9hZE1vcmVCdG5FdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgbG9hZEJ0biA9ICQoJyNsb2FkLW1vcmUtYnRuJyk7XHJcbiAgICAvL+eCueWHu+aMiemSruiOt+WPluaVsOaNru+8jOWJjeerr+aYvuekuuWHuuadpVxyXG4gICAgbG9hZEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9uZXdzL2xpc3QvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAncCc6IHNlbGYucGFnZSxcclxuICAgICAgICAgICAgICAgICdjYXRlZ29yeV9pZCc6c2VsZi5jYXRlZ29yeV9pZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICBpZihuZXdzZXMubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdEdyb3VwID0gJCgnLmxpc3QtaW5uZXItZ3JvdXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0ZW1wbGF0ZSgnbmV3c2xpc3QnLCB7J25ld3Nlcyc6IG5ld3Nlc30pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0R3JvdXAuYXBwZW5kKGh0bWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2UgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEJ0bi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcbkluZGV4LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5MaXN0ZW5Mb2FkTW9yZUJ0bkV2ZW50KCk7XHJcbiAgICBzZWxmLkxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQoKTtcclxufTtcclxuLy8g5a6a5LmJ5Ye95pWw5YWl5Y+jXHJcbkJhbm5lci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ3J1buWHveaVsOmHjOmdoueahHRoaXM6Jyx0aGlzKTtcclxuICAgIHRoaXMuaW5pdEJhbm5lcigpOyAvLyAgYmFubmVyIOaVsOmHj1xyXG4gICAgdGhpcy5pbml0UGFnZUNvbnRyb2woKTsgLy8g5bCP5ZyG54K55pWw6YePXHJcbiAgICB0aGlzLmxvb3AoKTsgLy8g6L2u5pKt5Zu+5b6q546v5rua5YqoXHJcbiAgICB0aGlzLmxpc3RlbkJhbm5lckdyb3VwKCk7IC8vIOi9ruaSreWbvlxyXG4gICAgdGhpcy5saXN0ZW5BcnJvd0NsaWNrKCk7IC8vIOebkeWQrOm8oOagh+eCueWHu+eureWktOS6i+S7tlxyXG4gICAgdGhpcy5saXN0ZW5QYWdlQ29udHJvbCgpOyAvLyDnm5HlkKzlsI/lnIbngrnkuovku7ZcclxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucGFnZUNvbnRyb2wuY2hpbGRyZW4oJ2xpJykpO1xyXG5cclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICB2YXIgYmFubmVyID0gbmV3IEJhbm5lcigpO1xyXG4gICB2YXIgaW5kZXggPSBuZXcgIEluZGV4KCk7XHJcbiAgIGluZGV4LnJ1bigpO1xyXG4gICBiYW5uZXIucnVuKCk7XHJcbn0pOyJdfQ==
